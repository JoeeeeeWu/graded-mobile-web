!function(t,n){function e(e,i,o,a,r){"function"!=typeof i||r||(r=i,i=n);var s={opacity:o};return a&&(s.scale=a,e.css(t.fx.cssPrefix+"transform-origin","0 0")),e.animate(s,i,null,r)}function i(n,i,o,a){return e(n,i,0,o,function(){r.call(t(this)),a&&a.call(this)})}var o=window.document,a=(o.documentElement,t.fn.show),r=t.fn.hide,s=t.fn.toggle;t.fn.show=function(t,i){return a.call(this),t===n?t=0:this.css("opacity",0),e(this,t,1,"1,1",i)},t.fn.hide=function(t,e){return t===n?r.call(this):i(this,t,"0,0",e)},t.fn.toggle=function(e,i){return e===n||"boolean"==typeof e?s.call(this,e):this.each(function(){var n=t(this);n["none"==n.css("display")?"show":"hide"](e,i)})},t.fn.fadeTo=function(t,n,i){return e(this,t,n,null,i)},t.fn.fadeIn=function(t,n){var e=this.css("opacity");return e>0?this.css("opacity",0):e=1,a.call(this).fadeTo(t,e,n)},t.fn.fadeOut=function(t,n){return i(this,t,null,n)},t.fn.fadeToggle=function(n,e){return this.each(function(){var i=t(this);i[0==i.css("opacity")||"none"==i.css("display")?"fadeIn":"fadeOut"](n,e)})}}(Zepto),function(t,n){function e(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function i(t){return o?o+t:t.toLowerCase()}var o,a,r,s,u,c,l,f,p,d,h="",g={Webkit:"webkit",Moz:"",O:"o"},m=document.createElement("div"),y=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};m.style.transform===n&&t.each(g,function(t,e){if(m.style[t+"TransitionProperty"]!==n)return h="-"+t.toLowerCase()+"-",o=e,!1}),a=h+"transform",w[r=h+"transition-property"]=w[s=h+"transition-duration"]=w[c=h+"transition-delay"]=w[u=h+"transition-timing-function"]=w[l=h+"animation-name"]=w[f=h+"animation-duration"]=w[d=h+"animation-delay"]=w[p=h+"animation-timing-function"]="",t.fx={off:o===n&&m.style.transitionProperty===n,speeds:{_default:400,fast:200,slow:600},cssPrefix:h,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(e,i,o,a,r){return t.isFunction(i)&&(a=i,o=n,i=n),t.isFunction(o)&&(a=o,o=n),t.isPlainObject(i)&&(o=i.easing,a=i.complete,r=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),r&&(r=parseFloat(r)/1e3),this.anim(e,i,o,a,r)},t.fn.anim=function(i,o,h,g,m){var T,v,x,b={},M="",E=this,P=t.fx.transitionEnd,L=!1;if(o===n&&(o=t.fx.speeds._default/1e3),m===n&&(m=0),t.fx.off&&(o=0),"string"==typeof i)b[l]=i,b[f]=o+"s",b[d]=m+"s",b[p]=h||"linear",P=t.fx.animationEnd;else{v=[];for(T in i)y.test(T)?M+=T+"("+i[T]+") ":(b[T]=i[T],v.push(e(T)));M&&(b[a]=M,v.push(a)),o>0&&"object"==typeof i&&(b[r]=v.join(", "),b[s]=o+"s",b[c]=m+"s",b[u]=h||"linear")}return x=function(n){if("undefined"!=typeof n){if(n.target!==n.currentTarget)return;t(n.target).unbind(P,x)}else t(this).unbind(P,x);L=!0,t(this).css(w),g&&g.call(this)},o>0&&(this.bind(P,x),setTimeout(function(){L||x.call(E)},1e3*(o+m)+25)),this.size()&&this.get(0).clientLeft,this.css(b),o<=0&&setTimeout(function(){E.each(function(){x.call(this)})},0),this},m=null}(Zepto),function(t){function n(t,n,e,i){return Math.abs(t-n)>=Math.abs(e-i)?t-n>0?"Left":"Right":e-i>0?"Up":"Down"}function e(){l=null,p.last&&(p.el.trigger("longTap"),p={})}function i(){l&&clearTimeout(l),l=null}function o(){s&&clearTimeout(s),u&&clearTimeout(u),c&&clearTimeout(c),l&&clearTimeout(l),s=u=c=l=null,p={}}function a(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function r(t,n){return t.type=="pointer"+n||t.type.toLowerCase()=="mspointer"+n}var s,u,c,l,f,p={},d=750;t(document).ready(function(){var h,g,m,y,w=0,T=0;"MSGesture"in window&&(f=new MSGesture,f.target=document.body),t(document).bind("MSGestureEnd",function(t){var n=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;n&&(p.el.trigger("swipe"),p.el.trigger("swipe"+n))}).on("touchstart MSPointerDown pointerdown",function(n){(y=r(n,"down"))&&!a(n)||(m=y?n:n.touches[0],n.touches&&1===n.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),h=Date.now(),g=h-(p.last||h),p.el=t("tagName"in m.target?m.target:m.target.parentNode),s&&clearTimeout(s),p.x1=m.pageX,p.y1=m.pageY,g>0&&g<=250&&(p.isDoubleTap=!0),p.last=h,l=setTimeout(e,d),f&&y&&f.addPointer(n.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(y=r(t,"move"))&&!a(t)||(m=y?t:t.touches[0],i(),p.x2=m.pageX,p.y2=m.pageY,w+=Math.abs(p.x1-p.x2),T+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(e){(y=r(e,"up"))&&!a(e)||(i(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?c=setTimeout(function(){p.el&&(p.el.trigger("swipe"),p.el.trigger("swipe"+n(p.x1,p.x2,p.y1,p.y2))),p={}},0):"last"in p&&(w<30&&T<30?u=setTimeout(function(){var n=t.Event("tap");n.cancelTouch=o,p.el&&p.el.trigger(n),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):s=setTimeout(function(){s=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),w=T=0)}).on("touchcancel MSPointerCancel pointercancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(n){t.fn[n]=function(t){return this.on(n,t)}})}(Zepto);